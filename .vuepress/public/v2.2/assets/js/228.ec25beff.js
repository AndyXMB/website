(window.webpackJsonp=window.webpackJsonp||[]).push([[228],{491:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),e("p",[t._v("This binding allows openHAB to interact with the "),e("a",{attrs:{href:"http://www.niko.eu/enus/niko/products/home-automation-with-nikobus/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nikobus"),e("OutboundLink")],1),t._v(" home automation system.")]),e("p",[e("a",{attrs:{href:"http://www.youtube.com/watch?v=QiNb-8QxXpo",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"http://img.youtube.com/vi/QiNb-8QxXpo/0.jpg",alt:"Demo Video Nikobus"}}),e("OutboundLink")],1)]),e("p",[t._v("More specifically, it allows openHAB to:")]),t._m(1),e("p",[t._v("This binding works with at least the following hardware:")]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),e("p",[t._v("To configure an item for a button in openHAB, use the following format:")]),t._m(9),e("p",[t._v("where:")]),t._m(10),e("p",[t._v("Since all the channels in the entire channel group are switched to their new state, it's important that openHAB knows the current state of all the channels in that group. Otherwise a channel which was switched on by a button, may be switched off again by the command.")]),e("p",[t._v("The section:")]),t._m(11),e("p",[t._v("is optional, and is used to include detail on which channel groups the button press affects. Every status query takes between 300-600 ms, so to get the best performance, only add the affected channel groups in the configuration.")]),e("p",[t._v("Examples of button items:")]),t._m(12),e("p",[t._v("or")]),t._m(13),t._m(14),e("p",[t._v("To configure an item for a switch in openHAB, use the following format:")]),t._m(15),e("p",[t._v("where:")]),t._m(16),e("p",[t._v("Examples of switch items:")]),t._m(17),t._m(18),e("p",[t._v("In order to configure items in openHAB, you will first need to know the module addresses and channels of your switch and dimmer modules.")]),t._m(19),t._m(20),e("p",[t._v("Press Control-C to stop monitoring the log and return to the prompt.")]),e("p",[t._v("When done, you can return the binding's logging to the quieter INFO level.")]),t._m(21),e("p",[t._v("The binding supports both the 4 channel switch module (05-002-02) and the 12 channel switch module (05-000-02).")]),e("p",[t._v("The large module contains 2 channel groups, where the first group controls channels 1-6 and the second one controls channels 7-12.  The small module contains only a single channel group controlling all 4 channels.")]),e("p",[t._v("All commands sent to/received from the Nikobus switch module are for a single channel group.")]),e("p",[t._v("In order to be able to read the status of a Nikobus switch module channel or to switch a channel directly on the switch module without mimicking a button press, you will need to configure items for each channel on the switch modules.")]),e("p",[t._v('To find out the address of your switch module, press and hold the yellow "mode" button on the switch module until you hear a beep. This will trigger the module to send out its identification on the bus, which should then be logged in openHAB.  When you check the openHAB log, you should see an entry similar to:')]),t._m(22),t._m(23),t._m(24),e("p",[t._v("Once the channels are defined, you can switch them ON or OFF using regular openHAB commands.")]),t._m(25),e("p",[t._v("Since all the channels in the entire channel group are switched to their new state, it's important that openHAB knows the current state of all the channels in that group. Otherwise, a channel which was switched on by a button may be switched off again by the command.")]),e("p",[t._v("In order to keep an up to date state of the channels in openHAB, button configurations can be extended to include detail on which channel groups the button press affects.")]),e("p",[t._v("When configured, the status of the channel groups to which the button is linked, will be queried every time the button is pressed.\nEvery status query takes between 300-600 ms, so to get the best performance, only add the affected channel groups in the configuration, which has the following format:")]),t._m(26),t._m(27),e("p",[t._v("Example configurations may look like:")]),t._m(28),e("DocPreviousVersions"),e("EditPageLink")],1)},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"nikobus-binding"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nikobus-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" Nikobus Binding")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("send (simulated) button presses to the Nikobus")]),s("li",[this._v("react to button presses which occur on the Nikobus")]),s("li",[this._v("change the status of switch channels on a Nikobus switch module")]),s("li",[this._v("request the status of switch channels on a Nikobus switch module")]),s("li",[this._v("change the status of dimmer channels on a Nikobus dimmer module")]),s("li",[this._v("request the status of dimmer channels on a Nikobus dimmer module")]),s("li",[this._v("send commands to the Nikobus roller shutter module")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("PC-link module (05-200)")]),s("li",[this._v("Push buttons (05-060-01, 05-064-01), RF Transmitter (05-314), PIR Sensor (430-00500)")]),s("li",[this._v("4 channel switch module (05-002-02)")]),s("li",[this._v("12 channel switch module (05-000-02)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"binding-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#binding-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Binding Configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This binding can be configured in the file "),s("code",[this._v("services/nikobus.cfg")]),this._v(".")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("Property")]),e("th",[t._v("Default")]),e("th",{staticStyle:{"text-align":"center"}},[t._v("Required")]),e("th",[t._v("Description")])])]),e("tbody",[e("tr",[e("td",[t._v("serial.port")]),e("td"),e("td",{staticStyle:{"text-align":"center"}},[t._v("Yes")]),e("td",[t._v("The name of the serial port device to which the PC-Link module is connected.  For example: "),e("code",[t._v("/dev/ttyUSB0")])])]),e("tr",[e("td",[t._v("refresh")]),e("td",[t._v("600")]),e("td",{staticStyle:{"text-align":"center"}},[t._v("No")]),e("td",[t._v("Rate in seconds at which a module status query is performed.  When a value greater than 0 is specified, the binding will perform a status query for a channel group every "),e("code",[t._v("refresh")]),t._v(" seconds. In order to not flood the bus with too many status requests (if you have many modules), the refresh only requests the status of a single channel group. After the next interval, the status of the following channel group is requested and so on...")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"item-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#item-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Item Configuration")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"buttons"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#buttons","aria-hidden":"true"}},[this._v("#")]),this._v(" Buttons")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Once an openHAB item has been configured as a Nikobus button, it will receive a status update to ON when the physical button is pressed.  When an item receives the ON command from openHAB, it will send a simulated button press to the Nikobus. This means you could also define virtual buttons in openHAB with non-existing addresses (e.g., "),s("code",[this._v("#N000001")]),this._v(") and use those in the programming of your Nikobus.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('nikobus="<address>:<pressType>[<moduleAddress>-<channelGroup>, <moduleAddress>-<channelGroup>, ...]"\n')])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("code",[t._v("<address>")]),t._v(" is the address of the button.  See below for how to determine addresses.")]),e("li",[e("code",[t._v("<pressType>")]),t._v(" is an indication for a "),e("code",[t._v("SHORT")]),t._v(" (less than one second) or "),e("code",[t._v("LONG")]),t._v(" button press. "),e("code",[t._v(":<pressType>")]),t._v(" is optional and defaults to "),e("code",[t._v(":SHORT")]),t._v(" if not provided. A button which is configured as "),e("code",[t._v("LONG")]),t._v(" will not be triggered by any "),e("code",[t._v("SHORT")]),t._v(" presses of that button. A button which is configured as "),e("code",[t._v("SHORT")]),t._v(" will not be triggered by any "),e("code",[t._v("LONG")]),t._v(" presses of that button.")]),e("li",[e("code",[t._v("<moduleAddress>")]),t._v(" represents the address of the switch module")]),e("li",[e("code",[t._v("<channelGroup>")]),t._v(" represents the first or second channel group in the module")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("[<moduleAddress>-<channelGroup>, <moduleAddress>-<channelGroup>, ...]\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left_S")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office Light On/Off Short Press"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N003334:SHORT"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left_L")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office Light On/Off Long Press"')]),t._v("  "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N003334:LONG"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Kitchen_Light")]),t._v("     "),e("span",{attrs:{class:"token string"}},[t._v('"Kitchen Light On/Off"')]),t._v("            "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N003333"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left_S")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office Light On/Off Short Press"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N003334:SHORT[C964-1]"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office and Kitchen Light On/Off"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N006884[C964-1,C964-2]"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"switches"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#switches","aria-hidden":"true"}},[this._v("#")]),this._v(" Switches")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('nikobus="<moduleAddress>:<channel>"\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("<moduleAddress>")]),this._v(" is the address of the switch module.  See below for determining addresses.")]),s("li",[s("code",[this._v("<channel>")]),this._v(" is a number in the range 1-12 indicating the switch channel")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left_S")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office Light On/Off Short Press"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N003334:SHORT[C964-1]"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office and Kitchen Light On/Off"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N006884[C964-1,C964-2]"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"discovering-module-addresses-and-channels"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#discovering-module-addresses-and-channels","aria-hidden":"true"}},[this._v("#")]),this._v(" Discovering Module Addresses and Channels")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This binding's root logger is "),s("code",[this._v("org.openhab.binding.nikobus")]),this._v(".  Enable "),s("code",[this._v("DEBUG")]),this._v(" logging to discover module addresses and channels that will be logged.  In openHAB 2, this can be performed from the console at the "),s("code",[this._v("openhab>")]),this._v(" prompt:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("log:set DEBUG org.openhab.binding.nikobus\nlog:tail\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"configuring-a-switch-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuring-a-switch-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuring a Switch Module")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("... Received NikobusCommand [command=$18C96400100167FF78607E, repeats=1]\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The four characters following "),s("code",[this._v("$18")]),this._v(" are the switch module address. In the example above, that's "),s("code",[this._v("C964")]),this._v(".  With this address, you can now define the different channels in your item configuration, e.g:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("light_office")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"C964:1"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("light_hallway")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"C964:2"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("light_living")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"C964:3"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("light_kitchen")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"C964:4"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("light_diningroom")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"C964:5"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("light_toilet")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"C964:6"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Changing the status of the switch module channels is always done for a complete channel group. So sending an ON command to the "),s("code",[this._v("light_office")]),this._v(" item in the example above sets the status for channels 1-6: channel 1 will be set to ON and channel 2 to 6 will be set to whatever the last state was that openHAB has for those channels.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("myButton")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"<button>[<moduleAddress>-<channelGroup>, <moduleAddress>-<channelGroup>, ...]"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Where "),s("code",[this._v("<button>")]),this._v(" represents the standard button configuration as explained in the previous section; "),s("code",[this._v("<moduleAddress>")]),this._v(" represents the address of the switch module; "),s("code",[this._v("<channelGroup>")]),this._v(" represents the first or second channel group in the module.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dsl"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left_S")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office Light On/Off Short Press"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N003334:SHORT[C964-1]"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),e("span",{attrs:{class:"token class-name"}},[t._v("Office_Top_Left")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"Office and Kitchen Light On/Off"')]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("nikobus"),e("span",{attrs:{class:"token operator"}},[t._v("=")]),e("span",{attrs:{class:"token string"}},[t._v('"#N006884[C964-1,C964-2]"')]),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);s.default=a.exports}}]);