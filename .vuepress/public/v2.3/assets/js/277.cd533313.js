(window.webpackJsonp=window.webpackJsonp||[]).push([[277],{551:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),a("p",[t._v("This binding reads and analyzes log files. Search patterns are fully configurable, therefore different kind of log files should be possible to monitor by this binding.\nWhen certain log events is recognized, openHAB rules can be used to send notification about the event e.g by email for further analysis.")]),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),a("p",[t._v("Search patterns follows Java regular expression syntax. See "),a("a",{attrs:{href:"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html"),a("OutboundLink")],1),t._v(".")]),t._m(6),a("p",[t._v("List of channels")]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),a("p",[t._v("Check thing status for errors.")]),t._m(19),a("p",[t._v("Enable DEBUG logging in karaf console to see more precise error messages:")]),t._m(20),a("p",[t._v("See "),a("a",{attrs:{href:"https://www.openhab.org/docs/administration/logging.html#defining-what-to-log",target:"_blank",rel:"noopener noreferrer"}},[t._v("openHAB2 logging docs"),a("OutboundLink")],1),t._v(" for more help.")]),a("DocPreviousVersions"),a("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"log-reader-binding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#log-reader-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" Log Reader Binding")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"supported-things"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#supported-things","aria-hidden":"true"}},[this._v("#")]),this._v(" Supported Things")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This binding supports one ThingType: "),e("code",[this._v("reader")]),this._v(".\nA reader supports 3 separate channels; One for errors, one for warnings and one custom channel for other purposes.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"thing-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#thing-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Thing Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("reader")]),this._v(" Thing has the following configuration parameters:")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Parameter")]),a("th",[t._v("Type")]),a("th",[t._v("Required")]),a("th",[t._v("Default if omitted")]),a("th",[t._v("Description")])])]),a("tbody",[a("tr",[a("td",[a("code",[t._v("filePath")])]),a("td",[t._v("String")]),a("td",[t._v("yes")]),a("td",[a("code",[t._v("${OPENHAB_LOGDIR}/openhab.log")])]),a("td",[t._v("Path to log file. ${OPENHAB_LOGDIR} is automatically replaced by the correct directory.")])]),a("tr",[a("td",[a("code",[t._v("refreshRate")])]),a("td",[t._v("integer")]),a("td",[t._v("no")]),a("td",[a("code",[t._v("1000")])]),a("td",[t._v("Time in milliseconds between individual log reads.")])]),a("tr",[a("td",[a("code",[t._v("errorPatterns")])]),a("td",[t._v("String")]),a("td",[t._v("no")]),a("td",[a("code",[t._v("ERROR+")])]),a("td",[t._v("Search patterns separated by | character for warning events.")])]),a("tr",[a("td",[a("code",[t._v("errorBlacklistingPatterns")])]),a("td",[t._v("String")]),a("td",[t._v("no")]),a("td"),a("td",[t._v("Search patterns for blacklisting unwanted error events separated by | character.")])]),a("tr",[a("td",[a("code",[t._v("warningPatterns")])]),a("td",[t._v("String")]),a("td",[t._v("no")]),a("td",[a("code",[t._v("WARN+")])]),a("td",[t._v("Search patterns separated by | character for error events.")])]),a("tr",[a("td",[a("code",[t._v("warningBlacklistingPatterns")])]),a("td",[t._v("String")]),a("td",[t._v("no")]),a("td"),a("td",[t._v("Search patterns for blacklisting unwanted warning events separated by | character.")])]),a("tr",[a("td",[a("code",[t._v("customPatterns")])]),a("td",[t._v("String")]),a("td",[t._v("no")]),a("td"),a("td",[t._v("Search patterns separated by | character for custom events.")])]),a("tr",[a("td",[a("code",[t._v("customBlacklistingPatterns")])]),a("td",[t._v("String")]),a("td",[t._v("no")]),a("td"),a("td",[t._v("Search patterns for blacklisting unwanted custom events separated by | character.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"channels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#channels","aria-hidden":"true"}},[this._v("#")]),this._v(" Channels")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Channel Type ID")]),a("th",[t._v("Item Type")]),a("th",[t._v("Description")])])]),a("tbody",[a("tr",[a("td",[a("code",[t._v("lastErrorEvent")])]),a("td",[a("code",[t._v("String")])]),a("td",[t._v("Displays contents of last [ERROR] event")])]),a("tr",[a("td",[a("code",[t._v("lastWarningEvent")])]),a("td",[a("code",[t._v("String")])]),a("td",[t._v("Displays contents of last [WARN] event")])]),a("tr",[a("td",[a("code",[t._v("lastCustomEvent")])]),a("td",[a("code",[t._v("String")])]),a("td",[t._v("Displays contents of last custom event")])]),a("tr",[a("td",[a("code",[t._v("errorEvents")])]),a("td",[a("code",[t._v("Number")])]),a("td",[t._v("Displays number of [ERROR] lines matched to search pattern")])]),a("tr",[a("td",[a("code",[t._v("warningEvents")])]),a("td",[a("code",[t._v("Number")])]),a("td",[t._v("Displays number of [WARN] lines matched to search pattern")])]),a("tr",[a("td",[a("code",[t._v("customEvents")])]),a("td",[a("code",[t._v("Number")])]),a("td",[t._v("Displays number of custom lines matched to search pattern")])]),a("tr",[a("td",[a("code",[t._v("logRotated")])]),a("td",[a("code",[t._v("DateTime")])]),a("td",[t._v("Last time when log rotated recognized")])]),a("tr",[a("td",[a("code",[t._v("newErrorEvent")])]),a("td",[t._v("-")]),a("td",[t._v("Trigger channel for last [ERROR] line")])]),a("tr",[a("td",[a("code",[t._v("newWarningEvent")])]),a("td",[t._v("-")]),a("td",[t._v("Trigger channel for last [ERROR] line")])]),a("tr",[a("td",[a("code",[t._v("newCustomEvent")])]),a("td",[t._v("-")]),a("td",[t._v("Trigger channel for last [ERROR] line")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[this._v("#")]),this._v(" Examples")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"example-things"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-things","aria-hidden":"true"}},[this._v("#")]),this._v(" example.things")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-xtend extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('\nlogreader:reader:openhablog[ refreshRate=1000, errorPatterns="ERROR+", errorBlacklistingPatterns="annoying error which should ignored|Another annoying error which should ignored" ]\n\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"example-items"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-items","aria-hidden":"true"}},[this._v("#")]),this._v(" example.items")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-xtend extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("String")]),t._v("   "),a("span",{attrs:{class:"token class-name"}},[t._v("logreaderLastError")]),t._v("         "),a("span",{attrs:{class:"token string"}},[t._v('"Last error [%s]"')]),t._v("                                      "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"logreader:reader:openhablog:lastErrorEvent"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("String")]),t._v("   "),a("span",{attrs:{class:"token class-name"}},[t._v("logreaderLastWarning")]),t._v("       "),a("span",{attrs:{class:"token string"}},[t._v('"Last warning [%s]"')]),t._v("                                    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"logreader:reader:openhablog:lastWarningEvent"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v("   "),a("span",{attrs:{class:"token class-name"}},[t._v("logreaderErrors")]),t._v("            "),a("span",{attrs:{class:"token string"}},[t._v('"Error events matched [%d]"')]),t._v("                            "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"logreader:reader:openhablog:errorEvents"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v("   "),a("span",{attrs:{class:"token class-name"}},[t._v("logreaderWarnings")]),t._v("          "),a("span",{attrs:{class:"token string"}},[t._v('"Warning events matched [%d]"')]),t._v("                          "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"logreader:reader:openhablog:warningEvents"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("DateTime")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("logreaderLogRotated")]),t._v("        "),a("span",{attrs:{class:"token string"}},[t._v('"Last Log Rotation [%1$tY.%1$tm.%1$te %1$tR]"')]),t._v("          "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" channel"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"logreader:reader:openhablog:logRotated"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"example-sitemap"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-sitemap","aria-hidden":"true"}},[this._v("#")]),this._v(" example.sitemap")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-xtend extra-class"},[a("pre",{pre:!0,attrs:{class:"language-dsl"}},[a("code",[t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("sitemap")]),t._v(" logreader_example "),a("span",{attrs:{class:"token constant"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"Example"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("Frame")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("label")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"LogReader"')]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("logreaderLastError\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("logreaderLastWarning\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("logreaderErrors\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("logreaderWarnings\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Text")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("item")]),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("logreaderLogRotated\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"example-rules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-rules","aria-hidden":"true"}},[this._v("#")]),this._v(" example.rules")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-xtend extra-class"},[a("pre",{pre:!0,attrs:{class:"language-rules"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("rule")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"LogReader"')]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("when")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("Channel")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"logreader:reader:openhablog:newErrorEvent"')]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("triggered")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// do something")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Be careful when sending e.g. email notifications.\nYou could easily send thousand of "),e("em",[this._v("spam")]),this._v(" emails in short period if e.g. one binding is in error loop.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"thing-status"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#thing-status","aria-hidden":"true"}},[this._v("#")]),this._v(" Thing status")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"verbose-logging"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#verbose-logging","aria-hidden":"true"}},[this._v("#")]),this._v(" Verbose logging")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("log:set DEBUG org.openhab.binding.logreader")])])}],!1,null,null,null);e.default=r.exports}}]);